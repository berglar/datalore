
var SVG_NS = 'http://www.w3.org/2000/svg';

function renderData(pattern, data) {
  var svg = document.getElementsByTagName('svg')[0];
  var text = document.createElementNS(SVG_NS, 'text');
  text.setAttribute('x', 50);
  text.setAttribute('y', 50);

  var regex = new RegExp(pattern, 'g');
  var dataIndex = 0;
  while (match = regex.exec(data)) {
    var beforeMatch = data.substring(dataIndex, match.index);
    text.appendChild(document.createTextNode(beforeMatch));
    var tspan = document.createElementNS(SVG_NS, 'tspan');
    tspan.setAttribute('class', 'highlight');
    tspan.appendChild(document.createTextNode(match[0]));
    text.appendChild(tspan);
    dataIndex = match.index + match[0].length;
  }
  text.appendChild(document.createTextNode(data.substring(dataIndex)));
  svg.appendChild(text);
}

renderData('gcat', 'ccta cctg gcat tgtt caga agct tgca aaat gatg aata gcga agtt tgta gtcg gggc aagc acgg tgca cgta ctta attt cggt atta cgat acgc taat atcg cgag ttga attg ggta acga gtgt agtg agca cata aagt acag gccc cggc ttga tcgc gacg tact ccta ttga ttac gctg ccgt actt taat gctt tatg gtat ttcg ctgg taca gcta ggcg tcaa ctcc tcgt aggc gcca ttct gaat gtcg tttt agtg gtcc accg acgc gtac aatg cccg tcgc aagc ctgt atct cctc ctac ttat agct tgat aagt cagt ggag gaag tgcg aacc atga gctt cggt ttac cgct acga tcgt gatg cccc gttc gatg cgcc tatt cttt gcca gaaa gtta ccga atga ggta ccca gcta taag aagg tcca ccga agcc tcta gatg gtac tcaa cgac tatg gatt caaa atat agta gcat cgga gtct aagg ctac aaat gagt ttaa ccgg aact ttag ctcg agaa ttat tcct acag ttcg ccta taac ggga aggc atat gttg atag atgc cggg cgga aaat tgtg accg gcgg gtgg cact cggt tgca cgca tgag caga acgg tagt gcgt aaac ccgc agac tatg cgag ttct gtaa ggcg actg caga tgga tcaa tccc tcga taga gttc gtga aata atca catt ttcc cctg acgc cagt tgaa atta ctgc cata ttga caat ttcc caca caca gccg aagt ctgt tcag gcat ttgc taag gctg gttc tttg ttga gtaa ctaa gaag ccat cgtt agct agca aaag accc taca acgc cata cggc gata tagc agca acgt gcag taag ccat gtgc aatc caaa agct aacg cacg ctca ccat gtct cata aata aaca acgg aagc atcc gtca ggca ggcg aggt tgta ttcc ttgt tact tatt acag ggcg caga cgtg ctct gaat cgcg acat ttta atca ttcg cact gatt gcag gaca tact caca gatc ctcg agac gcca gtag cgaa agtc attt tcac gcct gccc cata actg cgta gtgg cagt taat agat gaag taca ggcg taac tcag gaac cgtg acct caca tcga tgat ctct cgcg ccag ctca atgg gcag tcta gtga ttca acag gctg gtca atag agtc cctg taaa tcag agtc agat acac gtgt acaa taga tata taca acaa ttca agtc tggc attc atcc ccag ataa tgca ttgg gcat atgc tcga ccca ctga tttt ccac tggg cgct attc agac ggga ggca gccg catg ttgt atgc ccct catc tggt ccaa gcgt gaat ggtt ttgc gcga gacg tgca cttg gcct cgca cgaa ggta atgc ggct agca tgct ccaa attg gttg aacg agga gatt tgaa gcaa ataa tgct gcgt cagt tacg tgta agtg gtag cgac atat ggaa ggaa gcgg gtag gctg ggcg attg gtga aaag taca gtac aggc cggt acac atcg aaca atct tctg ctat acca gtcc gatg gggc atct tcat gcgg tact tgtc atta tgga tcgc tcag acaa gtgt aagg ttgt ctat ggat cagt gatt cgct tagc gaac tcgc caag aaac gctg cata ccgt cgtc gctt ttta ggag tggg cctc attc tggc aata attt tgtc tggc ttgt cggt gtca ttga agat caat cagt gata tggg agtc tgga ccct gtac gcta agat gtag tttc gctc aaca gcat gtca acta cttt gcgc caca gcat tacc gcgt cgcc tgtg tcga ctgc agta gcaa cgca gtaa caaa tgtg cggt ggag ctcc cgtt gcgg ctta ccgg tcta gcag ttcg gaac accc tcaa cggc cgtc gcat cgat cact gcag acat tgtg agaa gagc gtta tacg aagc gctg atgg atgt gcct gagg aagt tgaa tact cagt acac ttac caaa acaa aaaa acag cctc tacc taag cgtc aaga catt agga ttac acgg taaa cgtc gcag cctc ttac ctag tagg gttc ttgc aaag gata gatg ctaa acca ggtt tgtc ttca ggga tctc tgcg cgca ttga gggc gtgg ggta acaa ctac actt tgat gctg cgag ccgg tgca acgg gcac ccac gaca tcta cgac gatt caac ggta gcga tacc cgcg ggcg tcgg tgga tcgc atgc aacg gagt atga ccgc cccc ttct attg gaag acgt ttcg atgg tcca ggta cgct gaat tgag ccag gttt agta gctc tgta gcgg taca aaat ctga atgg cgca aatc cctt tcac gctt tctg gagg gagg aagg attc gtaa cacg gaca tggc catg cagc cccg gagg cgtt actc tcag ccta ttgg acag aggc agcg gtga atcg ctgc ggat atag tata gtgg tttg ttcg gtta aaaa cgta tctg tttc gaca gggg cacc ttaa acat caat atgt tccc tcgc gcgc cctt caag aggg cact gatt gtac cggg tcat gccg ggct ctca cacc cggg aagg tgga ctct tgta gaaa tctg gttt agtc cttt cttt ctcc tact gact agat tccg tctg cccc aagc gtgt taat cacc acgg ataa ggct cact ccgg aaag tagc taaa gcgg gtag tgcc caca attt gaat cgtc aggc gctg ggaa atac catg ttga ctac aggt tcag cagg cgga atcc atcg agta tcgt tcct cttt gcgc ttct ccta cgca ggga gcgc ccaa gctc ttga gtcc gcct ggtc attg ttag ttgc ggcg actc acct ctgc gagc ggcg gcac aaat catg cggt attt agtg acgt agga taca ccta ttac ctac gtaa taag gtgc ttgc ctcg gatg cccc cgct tttg acca cagt gagt ccgg tgcc tttt cgca cttc caat attt catg gtaa tagt gatg aacc aata agat ttct cgca aggc taac agcg gcta gttt tccg cttt ggtg gata agta caga agct ccct cggg ggga ctta actt ctac ctcg ggtc tctt ggta acaa accc cgca atga ctat ttat ggca cgct ccgg gatc ggcg atac cccg cata tctg aaat ggtt aatt ctca aaat tcga gtct taac attg cact ccta acct tgga tcgc aaga taat ttct ttca accc tagt gaca caga tttt tctt tacg taag gaca ttga agta ggag ttga cttt ttca ggac cgct gatg gcaa ggcc aaaa ccgc gtgg ccgt tatc gtgc ggac aggg ccgt catt tttt caac cgca gctt aaac aaga tttg aaca agga gctc gctc agcg cgag agct atgc gtgc cgtt ttac tgcc ttat gctc gggc tcgg tgtg atac tgtc gaag actt cgca acta aact tacg aggg acga tgtg tgtt taac cttg aata tgat tagg atat aggc gaat tgcg tcgc cgta tgcc attc ctct gaaa gatt accg tctg aagc ggac agtt ccag gtcc tgag ggac ctgt acct acta agag tgtg acag tata atgt tgcc agct ggga gcag cgat cagc atcg atgt atga ggat gaga tacg atac ggac tatg gcgt tgtt agca gtta tctt ggaa cggc gcgc cact ctag aggc gtcg ttgg gaat agca gcgg aata ggtg atat accc gacc aatt gtct acca gagt ccgt agcc gtta agtg tgac tcca aagc ttcc caag gggt tcca tact');
